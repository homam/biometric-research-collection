{"id":"bb91","dependencies":[{"name":"/project/home/homam/workspace/node_modules/@supabase/realtime-js/dist/module/lib/timer.js.map","includedInParent":true,"mtime":1685174397035},{"name":"/project/home/homam/workspace/node_modules/@supabase/realtime-js/src/lib/timer.ts","includedInParent":true,"mtime":1685174397035},{"name":"/project/home/homam/workspace/package.json","includedInParent":true,"mtime":1685174415021},{"name":"/project/home/homam/workspace/node_modules/@supabase/realtime-js/package.json","includedInParent":true,"mtime":1685174397035}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;class t{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}exports.default=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":13,"column":14},"generated":{"line":1,"column":91}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":1,"column":97}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":99}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":1,"column":111}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":1,"column":113}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":1,"column":116}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":1,"column":121}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":1,"column":130}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":1,"column":132}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":1,"column":137}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":1,"column":147}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":149}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":154}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":14,"column":30},"generated":{"line":1,"column":165}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":167}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":172}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":15,"column":18},"generated":{"line":1,"column":178}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":180}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":185}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":18,"column":20},"generated":{"line":1,"column":194}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":196}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":201}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":211}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":213}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":221}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":226}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":23,"column":17},"generated":{"line":1,"column":232}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":234}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":24,"column":17},"generated":{"line":1,"column":247}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":24,"column":22},"generated":{"line":1,"column":252}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":259}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":277}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":290}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":295}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":302}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":307}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":1,"column":313}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":31,"column":33},"generated":{"line":1,"column":324}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":329}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":334}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":340}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":345}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":32,"column":32},"generated":{"line":1,"column":351}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":353}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":358}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":34,"column":7},"generated":{"line":1,"column":370}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":375}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":385}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":390}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":396}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":401}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":409}},{"source":"../../../src/lib/timer.ts","name":null,"original":{"line":36,"column":1},"generated":{"line":1,"column":417}}],"sources":{"../../../src/lib/timer.ts":"/**\n * Creates a timer that accepts a `timerCalc` function to perform calculated timeout retries, such as exponential backoff.\n *\n * @example\n *    let reconnectTimer = new Timer(() => this.connect(), function(tries){\n *      return [1000, 5000, 10000][tries - 1] || 10000\n *    })\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n *    reconnectTimer.scheduleTimeout() // fires after 5000\n *    reconnectTimer.reset()\n *    reconnectTimer.scheduleTimeout() // fires after 1000\n */\nexport default class Timer {\n  timer: number | undefined = undefined\n  tries: number = 0\n\n  constructor(public callback: Function, public timerCalc: Function) {\n    this.callback = callback\n    this.timerCalc = timerCalc\n  }\n\n  reset() {\n    this.tries = 0\n    clearTimeout(this.timer)\n  }\n\n  // Cancels any previous scheduleTimeout and schedules callback\n  scheduleTimeout() {\n    clearTimeout(this.timer)\n\n    this.timer = <any>setTimeout(() => {\n      this.tries = this.tries + 1\n      this.callback()\n    }, this.timerCalc(this.tries + 1))\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"12a78769d36719fb9d6f1eda6b79d474","cacheData":{"env":{}}}